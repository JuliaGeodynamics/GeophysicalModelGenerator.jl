<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Import screenshots · GeophysicalModelGenerator.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GeophysicalModelGenerator.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Overview</a></li><li><a class="tocitem" href="../tutorial_load3DSeismicData/">3D seismic tomography from ASCII</a></li><li><a class="tocitem" href="../tutorial_loadregular3DSeismicData_netCDF/">3D seismic tomography from netCDF</a></li><li><a class="tocitem" href="../tutorial_MohoTopo/">Visualize Moho topography</a></li><li><a class="tocitem" href="../tutorial_GMT_Topography/">Create GMT-based topography</a></li><li><a class="tocitem" href="../tutorial_Coastlines/">Coastlines</a></li><li class="is-active"><a class="tocitem" href>Import screenshots</a><ul class="internal"><li><a class="tocitem" href="#Goal"><span>Goal</span></a></li><li><a class="tocitem" href="#General-procedure"><span>General procedure</span></a></li></ul></li><li><a class="tocitem" href="../tutorial_loadirregular3DSeismicData/">Interpolate irregular 3D seismic tomography</a></li><li><a class="tocitem" href="../tutorial_GMT_Topography_GeologicalMap/">ETOPO1 Topography and geological maps</a></li><li><a class="tocitem" href="../tutorial_ISC_data/">ISC earthquake data</a></li><li><a class="tocitem" href="../tutorial_GPS/">Plot GPS vectors</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../datastructures/">Data Structures</a></li><li><a class="tocitem" href="../dataimport/">Data Import</a></li><li><a class="tocitem" href="../paraview_output/">Paraview output</a></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><a class="tocitem" href="../gravity_code/">Gravity code</a></li><li><a class="tocitem" href="../lamem/">LaMEM</a></li></ul></li><li><a class="tocitem" href="../listfunctions/">List of functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Import screenshots</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Import screenshots</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/master/docs/src/man/tutorial_Screenshot_To_Paraview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Import-profiles/maps-from-published-papers"><a class="docs-heading-anchor" href="#Import-profiles/maps-from-published-papers">Import profiles/maps from published papers</a><a id="Import-profiles/maps-from-published-papers-1"></a><a class="docs-heading-anchor-permalink" href="#Import-profiles/maps-from-published-papers" title="Permalink"></a></h1><h2 id="Goal"><a class="docs-heading-anchor" href="#Goal">Goal</a><a id="Goal-1"></a><a class="docs-heading-anchor-permalink" href="#Goal" title="Permalink"></a></h2><p>Ideally, all data should be availabe in digital format, after which you could use the tools described in the other tutorial to transform them into <code>GeoData</code> and export them to VTK. Yet, the reality is different and often data is not (yet) available, or papers are old and the authors can no longer be contacted.</p><p>For that reason, <code>GeophysicalModelGenerator</code> has tools that allow you to transfer a screenshot from any published paper into <code>GeoData/Paraview</code> and see it in 3D at the correct geographic location. This can be done for vertical profiles and for mapviews, which gives you a quick and easy way to see those papers in a new (3D) light.</p><p>Here, we explain how. </p><ul><li><a href="#import-profilesmaps-from-published-papers">Import profiles/maps from published papers</a><ul><li><a href="#goal">Goal</a></li><li><a href="#general-procedure">General procedure</a><ul><li><a href="#1-download-data-and-crop-images">1. Download data and crop images</a></li><li><a href="#2-read-data-of-a-cross-section--create-vts-file">2. Read data of a cross-section &amp; create VTS file</a></li><li><a href="#3-read-data-of-a-mapview--create-vts-file">3. Read data of a mapview &amp; create *.vts file</a></li><li><a href="#4-using-an-automatic-digitizer-to-pick-points-on-map">4. Using an automatic digitizer to pick points on map</a></li><li><a href="#5-creating-a-multiblock-paraviewvtm-file">5. Creating a multiblock Paraview/*.vtm file</a></li><li><a href="#6-julia-script">6. Julia script</a></li></ul></li></ul></li></ul><h2 id="General-procedure"><a class="docs-heading-anchor" href="#General-procedure">General procedure</a><a id="General-procedure-1"></a><a class="docs-heading-anchor-permalink" href="#General-procedure" title="Permalink"></a></h2><h4 id=".-Download-data-and-crop-images"><a class="docs-heading-anchor" href="#.-Download-data-and-crop-images">1. Download data and crop images</a><a id=".-Download-data-and-crop-images-1"></a><a class="docs-heading-anchor-permalink" href="#.-Download-data-and-crop-images" title="Permalink"></a></h4><p>For this example, we use a well-known paper about the Alps which is now openly available:</p><p>Lippitsch, R., 2003. Upper mantle structure beneath the Alpine orogen from high-resolution teleseismic tomography. J. Geophys. Res. 108, 2376. <a href="https://doi.org/10.1029/2002JB002016">https://doi.org/10.1029/2002JB002016</a></p><p>Figure 12 contains a number of horizontal slices @ different depth, whereas Figure 13 contains 3 vertical profiles and a mapview that illustrates where the profile was taken. The first profile is shown here:</p><p><img src="../../assets/img/Tutorial_ScreenShots_Lippitsch_1.png" alt="Tutorial_ScreenShots_Lippitsch_1"/></p><p>The first step is to crop the image such that we only see the profile itself:</p><p><img src="../../assets/img/Lippitsch_Fig13a.png" alt="Tutorial_ScreenShots_Lippitsch_2"/></p><h4 id=".-Read-data-of-a-cross-section-and-create-VTS-file"><a class="docs-heading-anchor" href="#.-Read-data-of-a-cross-section-and-create-VTS-file">2. Read data of a cross-section &amp; create VTS file</a><a id=".-Read-data-of-a-cross-section-and-create-VTS-file-1"></a><a class="docs-heading-anchor-permalink" href="#.-Read-data-of-a-cross-section-and-create-VTS-file" title="Permalink"></a></h4><p>We look at the bigger image and determine the <code>lon,lat,depth</code> coordinates of the lower left and upper right corners of this image. We estimate this to be at:</p><pre><code class="language-julia">julia&gt; Corner_LowerLeft  = ( 3.5, 46.0, -400.0)
julia&gt; Corner_UpperRight = (16.0, 42.5, 0.0)</code></pre><p>Once this is done, and we saved the picture under <code>Lippitsch_Fig13a.png</code>, you can transfer it into GeoData format with:</p><pre><code class="language-julia">julia&gt; using GeophysicalModelGenerator
julia&gt; data_profile1 = Screenshot_To_GeoData(&quot;Lippitsch_Fig13a.png&quot;,Corner_LowerLeft, Corner_UpperRight)
Extracting GeoData from: Lippitsch_Fig13a.png
           └ Corners:         lon       lat       depth
              └ lower left  = [3.5    ; 46.0   ;  -400.0 ]
              └ lower right = [16.0   ; 42.5   ;  -400.0 ]
              └ upper left  = [3.5    ; 46.0   ;  0.0    ]
              └ upper right = [16.0   ; 42.5   ;  0.0    ]
GeoData 
  size  : (325, 824, 1)
  lon   ϵ [ 3.4999999999999996 : 16.0]
  lat   ϵ [ 42.49999999999999 : 46.00000000000001]
  depth ϵ [ -400.00000000000006 km : 0.0 km]
  fields: (:colors,)</code></pre><p>Finally, you save it in Paraview format as always:</p><pre><code class="language-julia">julia&gt; Write_Paraview(data_profile1, &quot;Lippitsch_Fig13a_profile&quot;) </code></pre><p>You can open this in paraview. Here, it is shown along with topographic data (made transparent):</p><p><img src="../../assets/img/Tutorial_ScreenShots_Lippitsch_3.png" alt="Tutorial_ScreenShots_Lippitsch_1"/> Note that if you want to see the image with the original colors, you should <em>unselect</em> the <code>Map Scalars</code> option in the <code>Properties</code> tab (red ellipse).</p><h4 id=".-Read-data-of-a-mapview-and-create-*.vts-file"><a class="docs-heading-anchor" href="#.-Read-data-of-a-mapview-and-create-*.vts-file">3. Read data of a mapview &amp; create *.vts file</a><a id=".-Read-data-of-a-mapview-and-create-*.vts-file-1"></a><a class="docs-heading-anchor-permalink" href="#.-Read-data-of-a-mapview-and-create-*.vts-file" title="Permalink"></a></h4><p>Creating a map follows the same procedure. The only difference is that maps are sometimes distorted which means that the axis are not necessarily orthogonal in <code>lon/lat</code> space. In that case, you need to specify all 4 corners. Internally, we linearly interpolate between those values.</p><p>An example is given here, which uses the mapview of Fig. 13 of the same paper (@ 150 km depth): <img src="../../assets/img/Fig13_mapview.png" alt="Fig13_mapview"/></p><pre><code class="language-julia">Corner_LowerLeft    =   ( 3.5, 43.0 , -150.0)
Corner_UpperRight   =   (15.5, 50.0 , -150.0)
Corner_LowerRight   =   (15.5, 43.0 , -150.0)
Corner_UpperLeft    =   (3.5 , 50.0 , -150.0)
data_Fig13_map      =   Screenshot_To_GeoData(&quot;Fig13_mapview.png&quot;,Corner_LowerLeft, Corner_UpperRight, Corner_LowerRight=Corner_LowerRight,Corner_UpperLeft=Corner_UpperLeft)
Write_Paraview(data_Fig13_map, &quot;Lippitsch_Fig13_mapview&quot;) </code></pre><p>Once added to paraview (together with a few additional map views from the same paper):   <img src="../../assets/img/Tutorial_ScreenShots_Lippitsch_4.png" alt="Tutorial_ScreenShots_Lippitsch_4"/></p><h4 id=".-Using-an-automatic-digitizer-to-pick-points-on-map"><a class="docs-heading-anchor" href="#.-Using-an-automatic-digitizer-to-pick-points-on-map">4. Using an automatic digitizer to pick points on map</a><a id=".-Using-an-automatic-digitizer-to-pick-points-on-map-1"></a><a class="docs-heading-anchor-permalink" href="#.-Using-an-automatic-digitizer-to-pick-points-on-map" title="Permalink"></a></h4><p>Often, it is not straightforward to determine the begin/end points of a profile and have to guess that by looking at the mapview (which is inprecise). To help with that, you can digitize the map and use an automatic digitizer to pick points on the map.</p><p>A great online tool to do exactly that can be found here: <a href="https://automeris.io/WebPlotDigitizer/">https://automeris.io/WebPlotDigitizer/</a></p><p>For this, you need to create a screenshot that is slightly larger and includes the axis (or a scale bar). As an example, you can use the image <code>Digitizer_1.png</code> which you can download here <a href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/main/docs/src/assets/img/Digitizer_1.png">https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/main/docs/src/assets/img/Digitizer_1.png</a>.</p><p>If import this in the online tool and indicate this to be a <code>2D (X-Y) Plot</code>, it will ask us to pick 2 points on the <code>X</code> axis and 2 points on the <code>Y</code> axis: <img src="../../assets/img/Digitizer_2.png" alt="Digitizer_2"/></p><p>Once the map is referenced accordingly, we can pick points (here for <code>C&#39; - C</code>) and show the corresponding data values: <img src="../../assets/img/Digitizer_3.png" alt="Digitizer_3"/></p><p>Which can again be used to set your profile.</p><h4 id=".-Creating-a-multiblock-Paraview/*.vtm-file"><a class="docs-heading-anchor" href="#.-Creating-a-multiblock-Paraview/*.vtm-file">5. Creating a multiblock Paraview/*.vtm file</a><a id=".-Creating-a-multiblock-Paraview/*.vtm-file-1"></a><a class="docs-heading-anchor-permalink" href="#.-Creating-a-multiblock-Paraview/*.vtm-file" title="Permalink"></a></h4><p>If you are importing a lot of cross-sections at the same time in Paraview, you end up having a lot of open profiles. For that reason it is possible to save a &quot;multi-block&quot; *.vtm file, which combines several files into one. The general approach is simple: open a multiblock file, and pass the filename to <code>Write_Paraview</code>. Once you are done, save it. An example showing you how this works is:</p><pre><code class="language-julia">julia&gt; vtmfile = vtk_multiblock(&quot;Lippitsch_CrossSections&quot;)
julia&gt; Write_Paraview(data_Fig12_90km, vtmfile) 
julia&gt; Write_Paraview(data_Fig12_180km, vtmfile) 
julia&gt; Write_Paraview(data_Fig12_300km, vtmfile) 
julia&gt; Write_Paraview(data_Fig12_400km, vtmfile) 
julia&gt; vtk_save(vtmfile)</code></pre><p>Note that you have to create the cross-sections first (see the julia script below).</p><h4 id=".-Julia-script"><a class="docs-heading-anchor" href="#.-Julia-script">6. Julia script</a><a id=".-Julia-script-1"></a><a class="docs-heading-anchor-permalink" href="#.-Julia-script" title="Permalink"></a></h4><p>For convenience we collected a few screenshots and uploaded it from <a href="https://seafile.rlp.net/d/a50881f45aa34cdeb3c0/">https://seafile.rlp.net/d/a50881f45aa34cdeb3c0/</a>.</p><p>The full julia script that interprets all the figures is given <a href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/tree/main/tutorial/Lippitsch_Screenshots.jl">here</a>.</p><pre><code class="language-julia">julia&gt; include(&quot;Lippitsch_Screenshots.jl&quot;)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial_Coastlines/">« Coastlines</a><a class="docs-footer-nextpage" href="../tutorial_loadirregular3DSeismicData/">Interpolate irregular 3D seismic tomography »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 16 October 2021 20:09">Saturday 16 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
