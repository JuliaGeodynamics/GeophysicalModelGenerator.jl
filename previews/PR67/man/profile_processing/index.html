<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Profile Processing · GeophysicalModelGenerator.jl</title><meta name="title" content="Profile Processing · GeophysicalModelGenerator.jl"/><meta property="og:title" content="Profile Processing · GeophysicalModelGenerator.jl"/><meta property="twitter:title" content="Profile Processing · GeophysicalModelGenerator.jl"/><meta name="description" content="Documentation for GeophysicalModelGenerator.jl."/><meta property="og:description" content="Documentation for GeophysicalModelGenerator.jl."/><meta property="twitter:description" content="Documentation for GeophysicalModelGenerator.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">GeophysicalModelGenerator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Overview</a></li><li><a class="tocitem" href="../tutorial_load3DSeismicData/">1 - 3D seismic tomography from ASCII</a></li><li><a class="tocitem" href="../tutorial_loadregular3DSeismicData_netCDF/">2 - 3D seismic tomography from netCDF</a></li><li><a class="tocitem" href="../tutorial_MohoTopo/">3 - Visualize Moho topography</a></li><li><a class="tocitem" href="../tutorial_GMT_Topography/">4 - Create GMT-based topography</a></li><li><a class="tocitem" href="../tutorial_Coastlines/">5 - Coastlines</a></li><li><a class="tocitem" href="../tutorial_Screenshot_To_Paraview/">6 - Import screenshots</a></li><li><a class="tocitem" href="../tutorial_loadirregular3DSeismicData/">7 - Interpolate irregular 3D seismic tomography</a></li><li><a class="tocitem" href="../tutorial_GMT_Topography_GeologicalMap/">8 - ETOPO1 Topography and geological maps</a></li><li><a class="tocitem" href="../tutorial_ISC_data/">9 - ISC earthquake data</a></li><li><a class="tocitem" href="../tutorial_GPS/">10 - Plot GPS vectors</a></li><li><a class="tocitem" href="../tutorial_UTM/">11 - Read UTM data</a></li><li><a class="tocitem" href="../Tutorial_Votemaps/">12 - VoteMaps</a></li><li><a class="tocitem" href="../tutorial_local_Flegrei/">13 - Campi Flegrei</a></li><li><a class="tocitem" href="../LaPalma_example/">14 - Cartesian Volcano Model</a></li><li><a class="tocitem" href="../tutorial_time_Seismicity/">15 - Create movies</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../datastructures/">Data Structures</a></li><li><a class="tocitem" href="../dataimport/">Data Import</a></li><li><a class="tocitem" href="../projection/">Projection</a></li><li><a class="tocitem" href="../paraview_output/">Paraview output</a></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><a class="tocitem" href="../visualise/">Visualisation</a></li><li><a class="tocitem" href="../gravity_code/">Gravity code</a></li><li><a class="tocitem" href="../lamem/">LaMEM</a></li><li class="is-active"><a class="tocitem" href>Profile Processing</a></li></ul></li><li><a class="tocitem" href="../listfunctions/">List of functions</a></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../code_of_conduct/">Code of Conduct</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Profile Processing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Profile Processing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/main/docs/src/man/profile_processing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Profile-processing"><a class="docs-heading-anchor" href="#Profile-processing">Profile processing</a><a id="Profile-processing-1"></a><a class="docs-heading-anchor-permalink" href="#Profile-processing" title="Permalink"></a></h1><p>We have number of routines that makes it easier to read various datasets into GMG &amp; create profiles through that data The routines provided here have the following functionality:</p><ul><li>Read datasets (remote or local) that contains volumetric, surface, point, topograpy or screenshot data</li><li>Define a profile (horizontal, vertical) with space for (projected) data</li><li>Project earthquake (point) data onto the profile or intersect surfaces with a vertical profile (e.g., Moho data)</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.load_GMG" href="#GeophysicalModelGenerator.load_GMG"><code>GeophysicalModelGenerator.load_GMG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data::NamedTuple = load_GMG(data::GMG_Dataset)</code></pre><p>Loads a dataset specified in GMG_Dataset <code>data</code> and returns it as a named tuple</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L123-L127">source</a></section><section><div><pre><code class="language-julia hljs">Data = load_GMG(Datasets::Vector{GMG_Dataset})</code></pre><p>This loads all the active datasets in <code>Datasets</code>, and returns a NamedTuple with Volume, Surface, Point, Screenshot and Topography data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L173-L178">source</a></section><section><div><pre><code class="language-julia hljs">load_GMG(filename::String, dir=pwd())</code></pre><p>Loads a <code>GeoData</code>/<code>CartData</code>/<code>UTMData</code> data set from jld2 file <code>filename</code> Note: the <code>filename</code> can also be a remote <code>url</code>, in which case we first download that file to a temporary directory before opening it</p><p><strong>Example 1 - Load local file</strong></p><pre><code class="language-julia hljs">julia&gt; data = load_GMG(&quot;test&quot;)
GeoData 
  size      : (4, 3, 3)
  lon       ϵ [ 1.0 : 10.0]
  lat       ϵ [ 11.0 : 19.0]
  depth     ϵ [ -20.0 : -10.0]
  fields    : (:DataFieldName,)
  attributes: [&quot;note&quot;]</code></pre><p><strong>Example 2 - remote download</strong></p><pre><code class="language-julia hljs">julia&gt; url  = &quot;https://seafile.rlp.net/f/10f867e410bb4d95b3fe/?dl=1&quot;
julia&gt; load_GMG(url)
GeoData 
  size      : (149, 242, 1)
  lon       ϵ [ -24.875 : 35.375]
  lat       ϵ [ 34.375 : 71.375]
  depth     ϵ [ -11.76 : -34.7]
  fields    : (:MohoDepth,)
  attributes: [&quot;author&quot;, &quot;year&quot;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/IO.jl#L25-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.save_GMG" href="#GeophysicalModelGenerator.save_GMG"><code>GeophysicalModelGenerator.save_GMG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">save_GMG(filename::String, data::Union{GeoData, CartDat, UTMData}; dir=pwd())</code></pre><p>Saves the dataset <code>data</code> to a JLD2 <code>file</code> (name without extension) in the directory <code>dir</code></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; Lon3D,Lat3D,Depth3D = LonLatDepthGrid(1.0:3:10.0, 11.0:4:20.0, (-20:5:-10)*km);
julia&gt; Data_set    =   GeophysicalModelGenerator.GeoData(Lon3D,Lat3D,Depth3D,(DataFieldName=Depth3D,))   
julia&gt; save_GMG(&quot;test&quot;,Data_set)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/IO.jl#L6-L17">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GeophysicalModelGenerator.ProfileData</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.ExtractProfileData" href="#GeophysicalModelGenerator.ExtractProfileData"><code>GeophysicalModelGenerator.ExtractProfileData</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ExtractProfileData(ProfileCoordFile::String,ProfileNumber::Int64,DataSetFile::String; DimsVolCross=(100,100),DepthVol=nothing,DimsSurfCross=(100,),WidthPointProfile=50km)</code></pre><p>This is a convenience function (mostly for backwards compatibility with the MATLAB GUI) that loads the data from file &amp; projects it onto a profile</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L386-L390">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GeophysicalModelGenerator.CreateProfileData</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GeophysicalModelGenerator.GMG_Dataset</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.Load_Dataset_file" href="#GeophysicalModelGenerator.Load_Dataset_file"><code>GeophysicalModelGenerator.Load_Dataset_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Datasets = Load_Dataset_file(file_datasets::String)</code></pre><p>This loads a CSV textfile that lists datasets, which is expected to have the following format:</p><ul><li><code>Name</code>,<code>Location</code>,<code>Type</code>, <code>[Active]</code></li><li>AlpArray,./Seismicity/ALPARRAY/AlpArraySeis.jld2,Point, true</li><li>Plomerova2022,https://seafile.rlp.net/f/abccb8d3302b4ef5af17/?dl=1,Volume</li></ul><p>Note that the first line of the file is skipped.</p><p>Here, the meaning of the variables is:</p><ul><li><code>Name</code>: The name of the dataset to be loaded</li><li><code>Location</code>: the location of the file (directory and filename) on your local machine, or an url where we can download the file from the web. The url is expected to start with &quot;http&quot;.</li><li><code>Type</code>: type of the dataset (Volume, Surface, Point, Screenshot)</li><li><code>Active</code>: Do we want this file to be loaded or not? Optional parameter that defaults to <code>true</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L134-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.combine_VolData" href="#GeophysicalModelGenerator.combine_VolData"><code>GeophysicalModelGenerator.combine_VolData</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">VolData_combined = combine_VolData(VolData::NamedTuple; lat=nothing, lon=nothing, depth=nothing, dims=(100,100,100), dataset_preferred = 1)</code></pre><p>This takes different volumetric datasets (specified in <code>VolData</code>) &amp; merges them into a single one. You need to either provide the &quot;reference&quot; dataset within the NamedTuple (<code>dataset_preferred</code>), or the lat/lon/depth and dimensions of the new dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L210-L217">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.ExtractProfileData!" href="#GeophysicalModelGenerator.ExtractProfileData!"><code>GeophysicalModelGenerator.ExtractProfileData!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ExtractProfileData!(Profile::ProfileData,VolData::GeoData, SurfData::NamedTuple, PointData::NamedTuple; DimsVolCross=(100,100),Depth_extent=nothing,DimsSurfCross=(100,),section_width=50)</code></pre><p>Extracts data along a vertical or horizontal profile</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L351-L355">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GeophysicalModelGenerator.ReadPickedProfiles" href="#GeophysicalModelGenerator.ReadPickedProfiles"><code>GeophysicalModelGenerator.ReadPickedProfiles</code></a> — <span class="docstring-category">Function</span></header><section><div><p>This reads the picked profiles from disk and returns a vector of ProfileData</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/0a9b1dd9c1e159ff61db0c061bb89413895f2534/src/ProfileProcessing.jl#L367-L369">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lamem/">« LaMEM</a><a class="docs-footer-nextpage" href="../listfunctions/">List of functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Thursday 29 February 2024 14:40">Thursday 29 February 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
