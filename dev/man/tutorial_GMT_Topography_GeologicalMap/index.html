<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>9 - ETOPO1 Topography and geological maps · GeophysicalModelGenerator.jl</title><meta name="title" content="9 - ETOPO1 Topography and geological maps · GeophysicalModelGenerator.jl"/><meta property="og:title" content="9 - ETOPO1 Topography and geological maps · GeophysicalModelGenerator.jl"/><meta property="twitter:title" content="9 - ETOPO1 Topography and geological maps · GeophysicalModelGenerator.jl"/><meta name="description" content="Documentation for GeophysicalModelGenerator.jl."/><meta property="og:description" content="Documentation for GeophysicalModelGenerator.jl."/><meta property="twitter:description" content="Documentation for GeophysicalModelGenerator.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="GeophysicalModelGenerator.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">GeophysicalModelGenerator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Overview</a></li><li><a class="tocitem" href="../Tutorial_Basic/">1 - Getting started</a></li><li><a class="tocitem" href="../tutorial_load3DSeismicData/">2 - 3D seismic tomography from ASCII</a></li><li><a class="tocitem" href="../tutorial_loadregular3DSeismicData_netCDF/">3 - 3D seismic tomography from netCDF</a></li><li><a class="tocitem" href="../Tutorial_MohoTopo_Spada/">4 - Visualize Moho topography</a></li><li><a class="tocitem" href="../tutorial_GMT_Topography/">5 - Create GMT-based topography</a></li><li><a class="tocitem" href="../tutorial_Coastlines/">6 - Coastlines</a></li><li><a class="tocitem" href="../tutorial_Screenshot_To_Paraview/">7 - Import screenshots</a></li><li><a class="tocitem" href="../tutorial_loadirregular3DSeismicData/">8 - Interpolate irregular 3D seismic tomography</a></li><li class="is-active"><a class="tocitem" href>9 - ETOPO1 Topography and geological maps</a><ul class="internal"><li><a class="tocitem" href="#Goal"><span>Goal</span></a></li><li><a class="tocitem" href="#Steps"><span>Steps</span></a></li></ul></li><li><a class="tocitem" href="../tutorial_ISC_data/">10 - ISC earthquake data</a></li><li><a class="tocitem" href="../tutorial_GPS/">11 - Plot GPS vectors</a></li><li><a class="tocitem" href="../tutorial_UTM/">12 - Read UTM data</a></li><li><a class="tocitem" href="../Tutorial_Votemaps/">13 - VoteMaps</a></li><li><a class="tocitem" href="../tutorial_local_Flegrei/">14 - Campi Flegrei</a></li><li><a class="tocitem" href="../Tutorial_LaPalma/">15 - La Palma volcano Model</a></li><li><a class="tocitem" href="../tutorial_time_Seismicity/">16 - Create movies</a></li><li><a class="tocitem" href="../Tutorial_FaultDensity/">17 - Fault Density Map</a></li><li><a class="tocitem" href="../Tutorial_AlpineData/">18 - Alpine data integration</a></li><li><a class="tocitem" href="../Tutorial_Jura/">19 - Jura tutorial</a></li><li><a class="tocitem" href="../Tutorial_NumericalModel_2D/">20 - 2D model setups</a></li><li><a class="tocitem" href="../Tutorial_NumericalModel_3D/">21 - 3D model setups</a></li><li><a class="tocitem" href="../Tutorial_VolcanoModel_3D/">22 - 3D model setups</a></li><li><a class="tocitem" href="../tutorial_Polygon_structures/">23 - Build geometry from polygons</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../datastructures/">Data Structures</a></li><li><a class="tocitem" href="../dataimport/">Data Import</a></li><li><a class="tocitem" href="../projection/">Projection</a></li><li><a class="tocitem" href="../asagi_io/">ASAGI</a></li><li><a class="tocitem" href="../paraview_output/">Paraview output</a></li><li><a class="tocitem" href="../paraview_collection/">Paraview collection</a></li><li><a class="tocitem" href="../surfaces/">Surfaces</a></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><a class="tocitem" href="../visualise/">Visualisation</a></li><li><a class="tocitem" href="../gravity_code/">Gravity code</a></li><li><a class="tocitem" href="../geodynamic_setups/">Numerical model setups</a></li><li><a class="tocitem" href="../lamem/">LaMEM</a></li><li><a class="tocitem" href="../ptatin/">pTatin</a></li><li><a class="tocitem" href="../Tutorial_Chmy_MPI/">Chmy</a></li><li><a class="tocitem" href="../profile_processing/">Profile Processing</a></li><li><a class="tocitem" href="../gmsh/">Gmsh</a></li><li><a class="tocitem" href="../movies/">Movies</a></li></ul></li><li><a class="tocitem" href="../listfunctions/">List of functions</a></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../code_of_conduct/">Code of Conduct</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>9 - ETOPO1 Topography and geological maps</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>9 - ETOPO1 Topography and geological maps</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGeodynamics/GeophysicalModelGenerator.jl/blob/main/docs/src/man/tutorial_GMT_Topography_GeologicalMap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Extract-topographic-data-and-drape-a-geological-map-on-top-of-it-(given-as-raster-graphics)"><a class="docs-heading-anchor" href="#Extract-topographic-data-and-drape-a-geological-map-on-top-of-it-(given-as-raster-graphics)">Extract topographic data and drape a geological map on top of it (given as raster graphics)</a><a id="Extract-topographic-data-and-drape-a-geological-map-on-top-of-it-(given-as-raster-graphics)-1"></a><a class="docs-heading-anchor-permalink" href="#Extract-topographic-data-and-drape-a-geological-map-on-top-of-it-(given-as-raster-graphics)" title="Permalink"></a></h1><h2 id="Goal"><a class="docs-heading-anchor" href="#Goal">Goal</a><a id="Goal-1"></a><a class="docs-heading-anchor-permalink" href="#Goal" title="Permalink"></a></h2><p>In many cases, we want to add topographic data as well a information about tectonic units to our visualization. This tutorial shows how to use <a href="https://github.com/GenericMappingTools/GMT.jl">GMT.jl</a> to import data from an ETOPO1 file for a certain region, load a geological map from a raster graphics file (here: PNG), drape it over the topography and transfer that.</p><h2 id="Steps"><a class="docs-heading-anchor" href="#Steps">Steps</a><a id="Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Steps" title="Permalink"></a></h2><h4 id="1.-Download-topographic-data-and-tectonic-maps-of-the-Alpine-region"><a class="docs-heading-anchor" href="#1.-Download-topographic-data-and-tectonic-maps-of-the-Alpine-region">1. Download topographic data and tectonic maps of the Alpine region</a><a id="1.-Download-topographic-data-and-tectonic-maps-of-the-Alpine-region-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Download-topographic-data-and-tectonic-maps-of-the-Alpine-region" title="Permalink"></a></h4><p>The ETOPO1 data file used in this example can be downloaded here:   <a href="https://ngdc.noaa.gov/mgg/global/global.html">https://ngdc.noaa.gov/mgg/global/global.html</a>. For this example, we downloaded <code>ETOPO1_Ice_g_gmt4</code> and stored it directly in the folder where we will be working. For the geological map, we download the data from the <a href="http://www.spp-mountainbuilding.de/data/Maps.zip">SPP 4DMB repository</a> and extract the zip file (to the current folder). In this data set, a <code>gmt</code> file with the data for different tectonic units is given in <code>./tectonic_maps_4dmb_2020_09_17/GMT_example/alcapadi_polygons.gmt</code>. </p><h4 id="2.-Create-a-tectonic-map-with-orthogonal-projection"><a class="docs-heading-anchor" href="#2.-Create-a-tectonic-map-with-orthogonal-projection">2. Create a tectonic map with orthogonal projection</a><a id="2.-Create-a-tectonic-map-with-orthogonal-projection-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Create-a-tectonic-map-with-orthogonal-projection" title="Permalink"></a></h4><p>To create a png with an orthogonal map projection (which we need for the png import), we do the following in julia:  </p><pre><code class="language-julia hljs">julia&gt; using GMT
julia&gt; filename_gmt = &quot;./tectonic_maps_4dmb_2020_09_17/GMT_example/alcapadi_polygons.gmt&quot;
julia&gt; plot(filename_gmt,region=&quot;4/20/37/49&quot;,show=true)</code></pre><p>This opens a window with the plotted map. Save this image in your current working folder. Open it with a image manipulation of your choice (e.g. GIMP) and crop it to the map itself. Save the cropped image in your current working directory. For this tutorial, we have named the cropped png file <code>tectonicmap_SPP.png</code>. It looks like this:</p><p><img src="../../assets/img/Tutorial_GMT_topography_GeologicalMap_PNG.png" alt="Tutorial_GMT_topography_GeologicalMap_PNG"/></p><h4 id="3.-Import-data-to-paraview"><a class="docs-heading-anchor" href="#3.-Import-data-to-paraview">3. Import data to paraview</a><a id="3.-Import-data-to-paraview-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Import-data-to-paraview" title="Permalink"></a></h4><p>Now, to import the ETOPO1 topography data and to drape the geologic map over it, open julia again. Load the following packages:</p><pre><code class="language-julia hljs">julia&gt; using GMT, NearestNeighbors, GeoParams, GeophysicalModelGenerator</code></pre><p>First, define the filenames of the files you want to import:  </p><pre><code class="language-julia hljs">julia&gt; filename_topo = &quot;./ETOPO1/ETOPO1_Ice_g_gmt4&quot; 
julia&gt; filename_geo  = &quot;./tectonicmap_SPP.png&quot;</code></pre><p>Next, define the region that you want to visualize (note that we use the same coordinates here as we used previously for the generation of the geological map):  </p><pre><code class="language-julia hljs">julia&gt; lat_min = 37.0
julia&gt; lat_max = 49.0
julia&gt; lon_min = 4.0
julia&gt; lon_max = 20.0</code></pre><p>and import the data</p><pre><code class="language-julia hljs">julia&gt; G = gmtread(filename_topo, limits=[lon_min,lon_max,lat_min,lat_max], grid=true);
julia&gt; Lon,Lat,Depth = lonlatdepth_grid(G.x[1:end],G.y[1:end],0);
julia&gt; numel_topo    = prod(size(Lon));
julia&gt; Depth[:,:,1]  = 1e-3*G.z&#39;;
julia&gt; Topo          = GeophysicalModelGenerator.GeoData(Lon, Lat, Depth, (Topography=Depth*km,))</code></pre><p>At this step, only the topographic data is imported. Now we have to import the tectonic map from the png file. To do so, first define the longitude and latitude of the lower left and upper right corner of the png:</p><pre><code class="language-julia hljs">julia&gt; Corner_LowerLeft  = (lon_min, lat_min , 0.0)
julia&gt; Corner_UpperRight = (lon_max, lat_max , 0.0)</code></pre><p>and import the png file with the GMG function <code>screenshot_to_GeoData</code>:  </p><pre><code class="language-julia hljs">julia&gt; DataPNG = screenshot_to_GeoData(filename_geo, Corner_LowerLeft, Corner_UpperRight)</code></pre><p>Next, we drape the screenshot on the topographic map with <code>drape_on_topo</code>:</p><pre><code class="language-julia hljs">julia&gt; TopoGeology = drape_on_topo(Topo, DataPNG)</code></pre><h4 id="4.-Save"><a class="docs-heading-anchor" href="#4.-Save">4. Save</a><a id="4.-Save-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Save" title="Permalink"></a></h4><p>Transforming the to Paraview is now a piece of cake:</p><pre><code class="language-julia hljs">julia&gt; write_paraview(TopoGeology, &quot;test_GeoMap&quot;)</code></pre><p>The result is shown here:</p><p><img src="../../assets/img/Tutorial_GMT_topography_GeologicalMap.png" alt="Tutorial_GMT_topography_GeologicalMap"/></p><p>In case you are interested: we are employing the <code>oleron</code> scientific colormap from <a href="https://www.fabiocrameri.ch/colourmaps/">Fabio Crameri&#39;s scientific colormap package</a> here.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial_loadirregular3DSeismicData/">« 8 - Interpolate irregular 3D seismic tomography</a><a class="docs-footer-nextpage" href="../tutorial_ISC_data/">10 - ISC earthquake data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Thursday 30 October 2025 09:04">Thursday 30 October 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
